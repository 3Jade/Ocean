### STRINGS

AddSpan(sqstring, function=ReadString, start="'", end="'", escape="\'", nonewlines=true);
AddSpan(dqstring, function=ReadString, start='"', end='"', escape='\"', nonewlines=true);
AddRegexSpan(rawsqstring, function=ReadString, start='R(\[.*\])?"', end='"\1');
AddRegexSpan(rawdqstring, function=ReadString, start="R(\[.*\])?'", end="'\1");
	
AddGroup(string, [ sqstring dqstring rawsqstring rawdqstring ]);

AddLiteral(identifier, "[a-zA-Z][a-zA-Z0-9]*");


### FLOATS

AddLiteral(decfloat, function=ReadDecFloat, "[0-9]+\.[0-9]+");
AddGroup(float, [ decfloat ]);


### INTEGERS
	
AddLiteral(decint, function=ReadDecInt, "[0-9]+");
AddGroup(integer, [ decint ]);


### NUMBER

AddGroup(number, [ integer float ]);


### VALUE

AddGroup(value, [ identifier number string ]);


### EXPRESSIONS

AddExpression(grouping, { "(" $expression ")" } );

AddExpression(mult, function=mult, { $expression<LHS> "*" $expression<RHS> });
AddExpression(add, function=add, { $expression<LHS> "+" $expression<RHS> });

AddGroup(binary_operator, [ add mult ]);
AddGroup(expression, [ binary_operator grouping value ]);

AddExpression(initializer, { "=" $expression } );

AddExpression(variable_declaration, function=declare_var, { "var" $identifier $?initializer });


### Top level items

SetTopLevelItems([ variable_declaration ]);
